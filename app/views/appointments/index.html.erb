<%# app/view/appointments/index.html.erb %>
<div class="flex flex-col relative w-full">
  <div class="flex justify-between items-center">
    <h1 class="text-5xl">Appointments for <%= @client.full_name %></h1>
    <%= link_to 'New Appointment', new_client_appointment_path(@client), class: "m-3 mt-10 p-2 rounded-lg border-1 border-slate-200 text-xs text-gray-700 text-base/6 font-semibold uppercase hover:bg-slate-100" %>
  </div>
  <div class="overflow-x-auto">
    <table class="w-full text-sm text-left text-gray-500">
      <thead class="rounded-t-lg text-xs text-gray-700 text-base/6 uppercase bg-gray-50">
        <tr class="bg-gray-200">
            <th class="px-4 py-4 text-left uppercase">Scheduled At</th>
            <th class="px-4 py-4 text-left uppercase">Location</th>
            <th class="px-4 py-4 text-left uppercase">Status</th>
            <th class="px-4 py-4 text-left uppercase" colspan="3">Actions</th>
        </tr>
      </thead>

      <tbody>
        <% @appointments.each do |appointment| %>
            <tr>
            <td class="px-4 py-2"><%= appointment.formatted_scheduled_at %></td>
            <td class="px-4 py-2"><%= appointment.location %></td>
            <td class="px-4 py-2"><%= appointment.status %></td>
            <td class="px-4 py-2"><%= link_to 'Show', client_appointment_path(@client, appointment), class: "hover:underline"%></td>
            <td class="px-4 py-2"><%= link_to 'Edit', edit_client_appointment_path(@client, appointment), class: "hover:underline" %></td>
            <td class="px-4 py-2"><%= button_to 'Delete', client_appointment_path(@client, appointment), method: :delete, class: "cursor-pointer hover:underline", data: { confirm: 'Are you sure?' } %></td>
            </tr>
        <% end %>
      </tbody>
    </table>