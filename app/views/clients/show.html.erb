<%# app/views/clients/show.html.erb %>
<div class="flex flex-col relative w-full">
  <div class="mb-4">
    <%= link_to 'Back to Clients', clients_path, class: "text-blue-500 hover:underline" %>
  </div>
  <div class="flex justify-between items-center">
    <h1 class="text-5xl"><%= @client.first_name %> <%= @client.last_name %></h1>
    <%= link_to 'Edit Client', edit_client_path, class: "m-3 mt-10 p-2 rounded-md border-1 border-slate-200 text-xs text-gray-700 text-base/6 font-semibold uppercase hover:bg-slate-100" %>
  </div>
  <div>
    <p>Email: <%= @client.email %></p>
    <p>Phone Number: <%= @client.phone %></p>
  </div>
  <div class="mt-8 mb-4 flex justify-between items-center">
    <h2 class="text-3xl">Appointments</h2>
    <%= link_to 'New Appointment', new_client_appointment_path(@client), class: "m-3 mt-3 p-2 rounded-lg border-1 border-slate-200 text-xs text-gray-700 text-base/6 font-semibold uppercase hover:bg-slate-100" %>
    </div>
    <table class="w-full text-sm text-left text-gray-500">
      <thead class="text-xs text-gray-700 text-base/6 uppercase">
        <tr class="bg-gray-200">
          <th class="px-4 py-4 text-left uppercase">Scheduled At</th>
          <th class="px-4 py-4 text-left uppercase">Location</th>
          <th class="px-4 py-4 text-left uppercase">Status</th>
          <th class="px-4 py-4 text-left uppercase" colspan="2"></th>
        </tr>
      </thead>
      <tbody>
        <% @client.appointments.each do |appointment| %>
          <tr>
            <td class="px-4 py-2"><%= appointment.scheduled_at %></td>
            <td class="px-4 py-2"><%= appointment.location %></td>
            <td class="px-4 py-2"><%= appointment.status %></td>
            <td class="px-4 py-2"><%= link_to 'Show', client_appointment_path(@client, appointment), class: "hover:underline"%></td>
            <td class="px-4 py-2"><%= button_to 'Delete', client_appointment_path(@client, appointment), method: :delete, class: "cursor-pointer hover:underline", data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
</div>